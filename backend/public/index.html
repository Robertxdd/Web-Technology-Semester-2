<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Musical Library</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
</head>

<body>
  <div class="app-container">
    <header class="app-header">
      <nav class="header-nav">
        <div class="logo-section">
          <h1 class="logo">MuSix</h1>
          <span class="url">Your Musix Library</span>
        </div>

        <div class="header-actions">
          <!-- Botón que abre el modal de Add Song -->
          <a href="#addSongModal" class="primary-btn">+ Add Song</a>

          <!-- Nuevo botón Sign up / Login -->
          <a href="#" class="primary-btn secondary auth-btn">Sign up / Login</a>
        </div>
      </nav>
    </header>

    <main class="main-layout">
      <aside class="sidebar">
        <section class="user-section">
          <div class="profile-picture">
            <img src="images/ProfilePicture.jpg" alt="Profile" height="50">
            <!--- Put abstract path to work on every device--->
          </div>
        </section>

        <section class="search-section">
          <form class="search-form" action="action_page.js" method="get">
            <div class="search-container">
              <input id="searchInput" class="search-input" type="search" name="searchbar"
                placeholder="What do you want to listen to?">
              <span class="material-symbols-outlined search-icon">search</span>
            </div>
          </form>
        </section>

        <nav class="main-nav">
          <!-- Bloque principal -->
          <p class="nav-section-label">LIBRARY</p>
          <ul class="nav-menu">
            <li>
              <a href="#" class="nav-link active" id="homeTab">
                <span class="nav-icon material-symbols-outlined">home</span>
                <span class="nav-text">Home</span>
              </a>
            </li>
            <li>
              <a href="#" class="nav-link" id="favoritesTab">
                <span class="nav-icon material-symbols-outlined">favorite</span>
                <span class="nav-text">Favorites</span>
              </a>
            </li>
            <li>
              <a href="#" class="nav-link" id="playlistsTab">
                <span class="nav-icon material-symbols-outlined">queue_music</span>
                <span class="nav-text">Playlists</span>
              </a>
            </li>
            <li>
              <a href="#" class="nav-link" id="queueTab">
                <span class="nav-icon material-symbols-outlined">playlist_play</span>
                <span class="nav-text">Queue</span>
              </a>
            </li>
          </ul>

          <!-- Bloque secundario -->
          <p class="nav-section-label">ACCOUNT</p>
          <ul class="nav-menu nav-secondary">
            <li>
              <a href="#" class="nav-link" id="statsTab">
                <span class="nav-icon material-symbols-outlined">bar_chart_4_bars</span>
                <span class="nav-text">Stats</span>
              </a>
            </li>
            <li>
              <a href="#" class="nav-link" id="settingsTab">
                <span class="nav-icon material-symbols-outlined">settings</span>
                <span class="nav-text">Settings</span>
              </a>
            </li>
          </ul>
        </nav>


      </aside>

      <div class="content-area">
        <!-- Tarjetas de playlists -->
        <section class="cards-section">
          <div class="cards-grid">
            <!-- Total de canciones -->
            <article class="card stat-card">
              <header class="card-header">
                <h2 class="card-title">Total songs</h2>
              </header>
              <p class="card-value" id="totalSongsCount">0</p>
              <p class="card-label">Songs in your library</p>
            </article>

            <!-- Duración total -->
            <article class="card stat-card">
              <header class="card-header">
                <h2 class="card-title">Total duration</h2>
              </header>
              <p class="card-value" id="totalDuration">0 min</p>
              <p class="card-label">Combined playback time</p>
            </article>

            <!-- Canciones favoritas -->
            <article class="card stat-card">
              <header class="card-header">
                <h2 class="card-title">Favorite songs</h2>
              </header>
              <p class="card-value" id="favoriteSongsCount">0</p>
              <p class="card-label">Marked as favorites</p>
            </article>
          </div>
        </section>
        <!-- FAVORITES VIEW (SPA) -->
        <section class="favorites-view hidden" id="favoritesView">

          <header class="favorites-header">
            <!-- Icono corazón hero (si ya lo tenías, lo mantenemos) -->
            <span class="favorites-hero-icon material-symbols-outlined">favorite</span>

            <div class="favorites-header-main">
              <div class="favorites-title-block">
                <h2>Favorite Songs</h2>
                <p class="favorites-subtitle">Your most loved tracks in one place.</p>
              </div>

              <!-- Subheader funcional (solo UI, sin lógica) -->
              <div class="favorites-subheader">
                <div class="favorites-sort">
                  <span class="favorites-sort-label">Sort by</span>
                  <button class="favorites-chip active">Recently added</button>
                  <button class="favorites-chip">Title</button>
                  <button class="favorites-chip">Artist</button>
                  <button class="favorites-chip">Year</button>
                </div>

                <div class="favorites-view-toggle" aria-label="View mode">
                  <button class="view-toggle-btn active" type="button" aria-label="List view">
                    <span class="material-symbols-outlined">view_list</span>
                  </button>
                  <button class="view-toggle-btn" type="button" aria-label="Grid view">
                    <span class="material-symbols-outlined">grid_view</span>
                  </button>
                </div>
              </div>
            </div>
          </header>

          <div class="favorites-content">
            <div class="favorites-list" id="favoritesSongsList">


              <!-- Empty state visual premium -->
              <div class="empty-state favorites-empty" id="favoritesEmptyState">
                <div class="favorites-empty-illustration">
                  <div class="favorites-orbit">
                    <span class="material-symbols-outlined favorites-heart">favorite</span>
                  </div>
                  <div class="favorites-glow"></div>
                </div>

                <h3 class="empty-title">No favorite songs yet</h3>
                <p class="empty-text">
                  Mark songs with the <strong>heart icon</strong> to save them here.
                </p>

                <a href="#" id="goToLibraryBtn" class="empty-cta">Go to library</a>
              </div>

            </div>
          </div>

        </section>

        <!-- Vista de Playlists (se mostrará al hacer clic en la pestaña Playlists) -->
        <section class="playlists-view hidden" id="playlistsView">
          <header class="playlists-header">
            <div class="playlists-heading">
              <span class="playlists-badge">Playlists</span>
              <h2>Your playlists</h2>
              <p class="playlists-subtitle">
                Create custom playlists and group your favourite tracks by mood, activity or genre.
              </p>
            </div>

            <button class="primary-btn secondary" id="openCreatePlaylistBtn" type="button">
              <span class="material-symbols-outlined">queue_music</span>
              <span>New playlist</span>
            </button>
          </header>

          <div class="playlists-layout">
            <!-- Columna izquierda: lista de playlists -->
            <aside class="playlists-column playlists-column--list">
              <div class="playlists-column-header">
                <h3 class="playlists-column-title">Collections</h3>
                <p class="playlists-column-caption">Choose a playlist to see its songs.</p>
              </div>

              <div class="playlists-list-container">
                <div class="playlists-list" id="playlistsList">
                  <p class="empty-playlists-message">
                    You haven’t created any playlists yet.
                  </p>
                </div>
              </div>
            </aside>

            <!-- Columna derecha: detalle de playlist -->
            <section class="playlists-column playlists-column--detail" id="playlistDetail">
              <div class="playlist-detail-header">
                <div class="playlist-detail-chip">
                  <span class="material-symbols-outlined">library_music</span>
                </div>
                <div class="playlist-detail-texts">
                  <h3 class="playlist-detail-title">Select a playlist</h3>
                  <p class="playlist-detail-text">
                    Choose one of your playlists on the left to see its songs here.
                  </p>
                </div>
              </div>

              <div class="playlist-detail-meta">
                <!-- Aquí podríamos mostrar en el futuro nº de canciones y duración total -->
                <span class="playlist-detail-pill">0 songs</span>
                <span class="playlist-detail-pill playlist-detail-pill--muted">No duration</span>
              </div>

              <div class="playlist-songs-wrapper">
                <div class="playlist-songs-list" id="playlistSongsList">
                  <!-- JS will inject songs here -->
                </div>
              </div>
            </section>
          </div>
        </section>

        <!-- Stats view -->
        <section class="stats-view hidden" id="statsView">
          <header class="stats-header">
            <div>
              <h2>Library stats</h2>
              <p class="stats-subtitle">
                Overview of your songs, favorites, genres and artists.
              </p>
            </div>
          </header>

          <div class="stats-grid">
            <article class="stat-box">
              <h3>Total songs</h3>
              <p class="stat-number" id="statsTotalSongs">0</p>
            </article>
            <article class="stat-box">
              <h3>Favorite songs</h3>
              <p class="stat-number" id="statsFavoriteSongs">0</p>
            </article>
            <article class="stat-box">
              <h3>Total duration</h3>
              <p class="stat-number" id="statsTotalDuration">0 min</p>
            </article>
          </div>

          <div class="stats-rows">
            <section class="stats-column">
              <h3>By genre</h3>
              <ul class="stats-list" id="statsGenresList"></ul>
            </section>
            <section class="stats-column">
              <h3>Top artists</h3>
              <ul class="stats-list" id="statsArtistsList"></ul>
            </section>
          </div>
        </section>

        <section class="queue-view hidden" id="queueView">

          <header class="queue-header">
            <div class="queue-header-text">
              <h2>Now playing & queue</h2>
              <p class="queue-subtitle">See the current song and what will play next.</p>
            </div>

            <button class="clear-queue-btn" type="button">
              Clear queue
            </button>
          </header>

          <div class="queue-container">

            <!-- LEFT: NOW PLAYING -->
            <div class="queue-column now-playing-column">
              <h3 class="queue-col-title">Now Playing</h3>

              <article class="now-playing-card" id="nowPlayingCard">

                <!-- Cuando NO hay canción -->
                <div class="now-empty" id="nowEmptyState">
                  <span class="material-symbols-outlined now-empty-icon">music_note</span>
                  <h3 class="now-empty-title">No song selected</h3>
                  <p class="now-empty-text">Choose a song from your library to start playing.</p>

                  <a href="#" class="now-empty-btn">Go to library</a>
                </div>

                <!-- Cuando SÍ hay canción (estático por ahora) -->
                <div class="now-playing-info hidden" id="nowPlayingInfo">
                  <img src="images/cacagorda.png" class="now-playing-cover" alt="Cover">

                  <div class="now-meta">
                    <h3 class="now-title">Song Title</h3>
                    <p class="now-artist">Artist name</p>

                    <div class="now-progress-bar">
                      <div class="now-progress-fill"></div>
                    </div>

                    <div class="now-actions">
                      <button class="now-btn"><span class="material-symbols-outlined">favorite</span></button>
                      <button class="now-btn"><span class="material-symbols-outlined">playlist_add</span></button>
                      <button class="now-btn"><span class="material-symbols-outlined">more_vert</span></button>
                    </div>
                  </div>
                </div>

              </article>

            </div>

            <!-- RIGHT: UP NEXT -->
            <div class="queue-column up-next-column">
              <h3 class="queue-col-title">Up Next</h3>

              <div class="up-next-list" id="upNextList">
                <!-- Estado vacío bonito -->
                <div class="up-next-empty">
                  <span class="material-symbols-outlined up-next-empty-icon">queue_music</span>
                  <p class="up-next-empty-title">Your queue is empty</p>
                  <p class="up-next-empty-text">
                    Start playing a song and add tracks to the queue to see them here.
                  </p>
                </div>
              </div>
            </div>


          </div>

        </section>


        <!-- Settings view -->
        <section class="settings-view hidden" id="settingsView">
          <header class="settings-header">
            <div>
              <h2>Settings</h2>
              <p class="settings-subtitle">
                Customize how your music library looks and behaves.
              </p>
            </div>
          </header>

          <div class="settings-group">
            <h3>Display</h3>

            <label class="settings-toggle">
              <input type="checkbox" id="toggleCompactList">
              <span class="toggle-switch"></span>
              <span class="toggle-label">Compact song list</span>
            </label>

            <label class="settings-toggle">
              <input type="checkbox" id="toggleMetadata" checked>
              <span class="toggle-switch"></span>
              <span class="toggle-label">Show year &amp; genre columns</span>
            </label>
          </div>

          <div class="settings-group">
            <h3>Theme</h3>

            <label class="settings-toggle">
              <input type="checkbox" id="toggleLightTheme">
              <span class="toggle-switch"></span>
              <span class="toggle-label">Light mode</span>
            </label>
          </div>
        </section>

        <!-- Zona central: cabecera tipo tabla + lista de canciones -->
        <div class="content-columns">
          <section class="songs-panel">
            <nav class="tabs-nav">
              <ul class="tabs-list">
                <li class="tab-item"><span class="tab-text">Title</span></li>
                <li class="tab-item"><span class="tab-text">Artist</span></li>
                <li class="tab-item"><span class="tab-text">Year</span></li>
                <li class="tab-item"><span class="tab-text">Genre</span></li>
                <li class="tab-item"><span class="tab-text">Duration</span></li>
              </ul>
            </nav>

            <div class="songs-list" id="songsListContainer">
              <!-- JS will inject table rows here -->
            </div>

        </div>

      </div>
      </section>
  </div>
  </div>
  </main>

  <!-- Modal Add Song -->
  <div id="addSongModal" class="modal">
    <!-- overlay clicable para cerrar -->
    <a href="#" class="modal-overlay" aria-hidden="true"></a>

    <div class="modal-dialog">
      <header class="modal-header">
        <h2 class="modal-title">Add a new song</h2>
        <!-- Cerrar modal volviendo al hash vacío -->
        <a href="#" class="modal-close" aria-label="Close">
          <span class="material-symbols-outlined">close</span>
        </a>
      </header>

      <section class="add-song-section">
        <form id="songForm" class="song-form">
          <div class="form-row">
            <div class="form-field">
              <label for="titleInput">Title</label>
              <input type="text" id="titleInput" name="title" required>
            </div>
            <div class="form-field">
              <label for="artistInput">Artist</label>
              <input type="text" id="artistInput" name="artist" required>
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label for="genreInput">Genre</label>
              <input type="text" id="genreInput" name="genre">
            </div>
            <div class="form-field">
              <label for="yearInput">Year</label>
              <input type="number" id="yearInput" name="year" min="1900" max="2100">
            </div>
            <div class="form-field">
              <label for="durationInput">Duration (seconds)</label>
              <input type="number" id="durationInput" name="duration" min="0">
            </div>
            <div class="form-field">
              <label for="urlInput">Song URL (MP3 link)</label>
              <input type="text" id="urlInput" name="url" placeholder="https://example.com/song.mp3" required>
            </div>

          </div>

          <button type="submit" id="addSongBtn">Save song</button>
        </form>
      </section>
    </div>
  </div>
  <!-- Modal Add Song -->
  <div id="addSongModal" class="modal">
    <!-- overlay clicable para cerrar -->
    <a href="#" class="modal-overlay" aria-hidden="true"></a>

    <div class="modal-dialog">
      <header class="modal-header">
        <h2 class="modal-title">Add a new song</h2>
        <!-- Cerrar modal volviendo al hash vacío -->
        <a href="#" class="modal-close" aria-label="Close">
          <span class="material-symbols-outlined">close</span>
        </a>
      </header>

      <section class="add-song-section">
        <form id="songForm" class="song-form">
          <div class="form-row">
            <div class="form-field">
              <label for="titleInput">Title</label>
              <input type="text" id="titleInput" name="title" required>
            </div>
            <div class="form-field">
              <label for="artistInput">Artist</label>
              <input type="text" id="artistInput" name="artist" required>
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label for="genreInput">Genre</label>
              <input type="text" id="genreInput" name="genre">
            </div>
            <div class="form-field">
              <label for="yearInput">Year</label>
              <input type="number" id="yearInput" name="year" min="1900" max="2100">
            </div>
            <div class="form-field">
              <label for="durationInput">Duration (seconds)</label>
              <input type="number" id="durationInput" name="duration" min="0">
            </div>
          </div>

          <button type="submit" id="addSongBtn" class="primary-btn">Save song</button>
        </form>
      </section>
    </div>
  </div>

  <!-- Modal: Create Playlist -->
  <div id="createPlaylistModal" class="modal">
    <a href="#" class="modal-overlay" aria-hidden="true"></a>

    <div class="modal-dialog">
      <header class="modal-header">
        <h2 class="modal-title">New playlist</h2>
        <a href="#" class="modal-close" aria-label="Close">
          <span class="material-symbols-outlined">close</span>
        </a>
      </header>

      <form id="createPlaylistForm" class="song-form">
        <div class="form-field">
          <label for="playlistNameInput">Name</label>
          <input type="text" id="playlistNameInput" name="name" required>
        </div>
        <div class="form-field">
          <label for="playlistDescriptionInput">Description</label>
          <input type="text" id="playlistDescriptionInput" name="description" placeholder="Optional">
        </div>

        <button type="submit" class="primary-btn">Create playlist</button>
      </form>
    </div>
  </div>

  <!-- Modal: Add song to playlist -->
  <div id="addToPlaylistModal" class="modal">
    <a href="#" class="modal-overlay" aria-hidden="true"></a>

    <div class="modal-dialog">
      <header class="modal-header">
        <h2 class="modal-title">Add to playlist</h2>
        <a href="#" class="modal-close" aria-label="Close">
          <span class="material-symbols-outlined">close</span>
        </a>
      </header>

      <div id="playlistSelectList" class="playlists-list">
        <!-- Playlist options are injected here by JS -->
      </div>
    </div>
  </div>

  <footer class="music-player">
    <audio id="audioPlayer"></audio>
    <!-- Nueva zona: cover + título + artista -->
    <div class="player-now">
      <div class="player-cover">
        <img src="images/cacagorda.png" alt="Cover art" id="playerCover">
      </div>
      <div class="player-meta">
        <div class="player-title is-empty" id="playerSongTitle">No song selected</div>
        <div class="player-artist" id="playerSongArtist">—</div>
      </div>
    </div>

    <div class="player-controls">
      <button class="control-btn" aria-label="Previous">
        <span class="material-symbols-outlined">skip_previous</span>
      </button>
      <button class="control-btn play-btn" aria-label="Play">
        <span class="material-symbols-outlined">play_arrow</span>
      </button>
      <button class="control-btn" aria-label="Next">
        <span class="material-symbols-outlined">skip_next</span>
      </button>
    </div>

    <div class="progress-section">
      <span class="time-current">0:00</span>
      <div class="progress-bar" id="progressBar">
        <div class="progress-fill"></div>
        <!-- Tooltip dinámico -->
        <div class="progress-tooltip" id="progressTooltip"></div>
      </div>
      <span class="time-total" id="timeTotal">3:45</span>
    </div>

    <div class="volume-section">
      <button class="volume-btn" aria-label="Volume">
        <span class="material-symbols-outlined">volume_up</span>
      </button>
      <div class="volume-bar">
        <div class="volume-fill"></div>
      </div>
    </div>
  </footer>


  </div>

  <script src="main.js"></script>
</body>

</html>